<!doctype html>
<html lang="de" class="overflow-auto! scroll-smooth bg-gray-200 antialiased">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="{{ .Description }}" />

    {{ hugo.Generator }}


    <link rel="preconnect" href="https://ffwenns.at" />

    <link rel="preload" fetchpriority="high" as="image" href="/header.webp" type="image/webp" />
    <link rel="preload" href="/fonts/roboto.woff2" as="font" type="font/woff2" crossorigin />

    <title>
      {{ if .IsHome }}
        {{ site.Title }}
      {{ else }}
        {{ $segments := split .RelPermalink "/" }}
        {{ $firstSegment := index $segments 1 }}
        {{ $secondSegment := index $segments 2 }}
        {{ if and $firstSegment (findRE "^20[0-9][0-9]$" $firstSegment) (not $secondSegment) }}
          {{ printf "Alle Beiträge aus %s | %s" $firstSegment site.Title }}
        {{ else }}
          {{ printf "%s | %s" .Title site.Title }}
        {{ end }}
      {{ end }}
    </title>

    <style>
      @font-face {
        font-family: "Roboto";
        font-style: normal;
        font-weight: 100 900;
        font-stretch: 75% 100%;
        font-display: swap;
        src: url("/fonts/roboto.woff2") format("woff2");
      }
    </style>

    {{ partialCached "head/css.html" . }}
    {{ partialCached "head/js.html" . }}
  </head>
  <body id="{{ with .Params.layout }}{{ . }}{{ else }}{{ trim (replace .RelPermalink "/" "-") "-" }}{{ end }}" class="mx-auto mr-auto! max-w-[80rem] bg-white">
    {{ partial "header.html" . }}
    {{ partial "nav.html" . }}
    {{ partial "cover.html" . }}


    <div class="page">
      {{ block "nav" . }}{{ end }}


      <main>
        {{ block "title" . }}
          <h1>{{ .Title }}</h1>
        {{ end }}

        {{ block "main" . }}{{ end }}
      </main>
    </div>

    <footer id="footer" class="mx-4">
      <div class="wrapper border-t border-gray-300">
        <div class="grid">
          <div class="flex flex-row justify-between">
            <details name="Meta">
              <summary class="cursor-pointer list-none py-4 hover:underline">Kontakt / Impressum</summary>
              <address class="pb-4 not-italic">
                <strong>Feuerwehr Wenns</strong>
                <br />
                Unterdorf 64
                <br />
                6473 Wenns
                <br />
                <a href="mailto:wenns@feuerwehr.tirol" class="mt-4 block">wenns@feuerwehr.tirol</a>
              </address>
            </details>

            <div class="flex flex-row">
              <a href="https://facebook.com/ffwenns" target="_blank" class="px-1 py-4">
                <img src="/images/facebook.svg" alt="Facebook" class="size-6 hover:opacity-70" />
              </a>
              <a href="https://instagram.com/freiwillige_feuerwehr_wenns" target="_blank" class="px-1 py-4">
                <img src="/images/instagram.svg" alt="Instagram" class="size-6 hover:opacity-70" />
              </a>
            </div>
          </div>

          {{ if .File }}
            <div class="border-t border-gray-300">
              <div class="flex flex-row justify-between">
                <details name="Meta">
                  <summary class="cursor-pointer list-none py-4 hover:underline ">Seiteninformationen</summary>
                  <div>
                    {{ with .GitInfo }}
                      <dl class="mb-4">
                        <dt class="font-medium">Letzte Änderung</dt>
                        <dd>
                          {{ page.Lastmod | time.Format "02.01.2006 um 15:04 Uhr" }}
                        </dd>
                      </dl>
                    {{ end }}

                    {{ with .File }}
                      <a href="{{ block "edit" . }}https://github.com/ffwenns/homepage/edit/main/content/{{ .Path }}{{ end }}" target="_blank" class="inline-block pb-4 ">
                        Diese Seite bearbeiten
                      </a>
                    {{ end }}
                  </div>
                </details>

                <a href="#top" class="block px-1 py-4" aria-label="Nach oben">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                    <path
                      fill-rule="evenodd"
                      d="M3 16.25a.75.75 0 0 1 .75-.75h7.5V4.56L9.28 6.53a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1-1.06 1.06l-1.97-1.97v11.69A.75.75 0 0 1 12 17H3.75a.75.75 0 0 1-.75-.75Z"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </a>
              </div>
            </div>
          {{ end }}
        </div>
      </div>
    </footer>
    <div id="end"></div>

    <script>
      const hamburger = document.getElementById("hamburger").parentElement;
      const menu = document.getElementById("menu");

      hamburger.addEventListener("click", () => {
        hamburger.classList.toggle("open");
        menu.classList.toggle("open");
      });

      const summaryElements = document.querySelectorAll("#footer summary");

      summaryElements.forEach((summary) => {
        summary.addEventListener("click", () => {
          window.setTimeout(() => {
            document.querySelector("#end").scrollIntoView({ behavior: "smooth" });
          }, 320);
        });
      });
    </script>

    {{- with resources.Get "js/fslightbox.js" }}
      <script src="{{ .RelPermalink }}" defer></script>
    {{- end }}
  </body>
</html>
